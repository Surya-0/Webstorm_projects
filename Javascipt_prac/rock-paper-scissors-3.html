<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RPS_Games</title>
</head>
<body>
<p>Rock Paper Scissors</p>

<button
        onclick="
            let result = '';
            let comp_move = pickComputerMove();
            result = compare(comp_move,'rock');
            check_result(result);
            alert(`You picked rock. Computer picked ${comp_move}. ${result}
Wins:${score.wins},Losses:${score.losses},Ties:${score.ties}`);">
    Rock
</button>

<button
        onclick="
            let result = '';
            let comp_move = pickComputerMove();
            result = compare(comp_move,'paper');
            check_result(result);
            alert(`You picked rock. Computer picked ${comp_move}. ${result}
Wins:${score.wins},Losses:${score.losses},Ties:${score.ties}`);">
    Paper
</button>

<button
        onclick="
            let result = '';
            let comp_move = pickComputerMove();
            result = compare(comp_move,'scissors');
            check_result(result);
            alert(`You picked rock. Computer picked ${comp_move}. ${result}
Wins:${score.wins},Losses:${score.losses},Ties:${score.ties}`);">
    Scissors
</button>

<button
    onclick="
    score.wins = 0;
    score.losses =0;
    score.ties =0;
    ">
    Reset Score
</button>

<script>
    let score = JSON.parse(localStorage.getItem('score'))

    function pickComputerMove(){
        let comp_move = '';
        const randNum = Math.random();

        console.log(randNum);
        if(randNum >=0 && randNum < 1/3){
            comp_move = 'rock';
        }
        else if(randNum >= 1/3 && randNum < 2/3){
            comp_move = 'paper';
        }
        else{
            comp_move = 'scissors';
        }
        return comp_move;
    }

    function compare(computer_move,your_move){
        let result = '';

        if(computer_move === 'rock' && your_move === 'paper'){
            result = 'you win!!!';
        }
        else if(computer_move === 'paper' && your_move === 'paper'){
            result = 'tie!';
        }
        else if(computer_move === 'scissors' && your_move === 'paper'){
            result = 'you lose!!!';
        }

        else if(computer_move === 'rock' && your_move === 'rock'){
            result = 'tie!';
        }
        else if(computer_move === 'paper' && your_move === 'rock'){
            result = 'you lose!!!';
        }
        else if(computer_move === 'scissors' && your_move === 'rock'){
            result = 'you win!!!';
        }

        else if(computer_move === 'rock' && your_move === 'scissors'){
            result = 'you lose!!!';
        }
        else if(computer_move === 'paper' && your_move === 'scissors'){
            result = 'you win!!!';
        }
        else if(computer_move === 'scissors' && your_move === 'scissors'){
            result = 'tie!';
        }

        return result;

    }

    function check_result(result){
        if(result==='you win!!!'){
            score.wins+=1;
        }
        else if(result==='you lose!!!'){
            score.losses+=1;
        }
        else if(result === 'tie!'){
            score.ties+=1;
        }
        localStorage.setItem('score',JSON.stringify(score)); // used for saving the data onto our local storage
    }

</script>
</body>
</html>